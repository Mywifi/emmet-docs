$(function(){var a=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),b=a||/Mac/.test(navigator.platform);$(".movie-def").each(function(){var a=CodeMirror.movie(this,{sectionSeparator:/~{3}|@{3}/g}),c=a._editor,d={play:(b?"▶ ":"")+"Play demo",pause:(b?"❚❚ ":"")+"Pause",play_again:(b?"▶ ":"")+"Play again",try_yourself:"Try it yourself"},e=$('<div class="CodeMirror-movie__splash"><div class="CodeMirror-movie__splash-text"><span class="CodeMirror-movie__splash-play-btn">▶</span> Watch demo</div></div>').click(function(){a.play()}),f=function(){e&&(e.remove(),e=null)},g=$(c.getWrapperElement());g.append(e),a.on("play",f);var h=$('<button class="btn btn-mini btn-primary CodeMirror-movie__btn-play">'+d.play+"</button>").click(function(){a.toggle()}),i=$('<button class="btn btn-mini btn-success CodeMirror-movie__btn-try">'+d.try_yourself+"</button>").click(function(){a.stop(),f(),c.execCommand("revert"),c.focus()}),j=$('<div class="CodeMirror-movie__toolbar"></div>').append(h).append(i);a.on("play resume",function(){h.html(d.pause)}).on("pause stop",function(){h.html(d.play_again)}),g.before(j)})}),CodeMirror._wrapWithAbbreviation=function(a,b){var c=emmet.require("cm-editor-proxy");c.setupContext(a),emmet.require("actions").run("wrap_with_abbreviation",c,b)},function(){var a="iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAB0UlEQVQ4y2P4z8DAQCoGgjwgVsIqR46BwoJMt7i5GPeBmFQxUFWR5R6IycHOuB5Ii6C5niENiDORcAVID5ICDSCOB+IGIO4G4lwBPqY3MDOAhq5DNhTDkYL8TE+jArgcgGwWIC5iZ2O8TsjRnByMa4G0ENhARkaGf6JCTJ/rCviOg/DeFaKdz85IibCyMM4lJSSALl0Ld6GCDMszoCEaUMzFwszQSmrQ8nIzfgDqFQcbKC3B/BQpDFT4+Zieo2vg4mT8KSLE9AUYuz+BvkKRk5Vi/jC7S2gp0EApsIEykszPYLJaaqwZbGyMv0BckOYwH64r2xeJrrm0S2IGEPcC8TQ1JZZXMMM0VVhfbVsk2g80TAKIGTEM1NdinQliApPGmyWThJcDFXkDMQ+yk+SkmB+AmBZGbI9ObBKvAcpzo8QysoHGemwbgAofn9sGViiGLcCALrzrYMl+7+EJyRSgGmb0dIhiYGsZf+XRdWL5QIVMuGKgvpBvzp3DkvFQA3zwGggKWCBmxRelQHkVqOZ2YPL6iGGgvDTzYzILif+SYszvUcSYmRj+AnPDdyBzM6kYlHzERZnfYLiQEgwsed6hGAgMj/lADEqUK8jAS4C4A9lAAFHbei84vFYeAAAAAElFTkSuQmCC";emmet.define("file",function(){return{read:function(){var b=emmet.require("base64").decode(a),c=_.last(arguments);return c&&_.isFunction(c)&&c(0,b),b},locateFile:function(a,b){return b},createPath:function(a,b){return b},save:function(){},getExt:function(a){var b=(a||"").match(/\.([\w\-]+)$/);return b?b[1].toLowerCase():""}}}),emmet.require("actionUtils").getImageSize=function(){return{width:200,height:150}};var b=emmet.require("cm-editor-proxy");b.addAction("encode_decode_data_url","Shift-Cmd-I"),b.addAction("update_image_size","Shift-Cmd-U")}(),$(function(){function a(){var a=emmet.require("preferences").list(),b=_.template('<tr><td><span class="emmet-preferences__name"><%= name %></span><div class="emmet-preferences__desc"><%= description %></div></td><td><span class="emmet-preferences__value"><%- value %></span></td></tr>'),c='<table class="emmet-preferences__list">';return _.each(a,function(a){c+=b(a)}),c+"</table>"}$(".emmet-preferences").each(function(){$(this).html(a()).on("click",".emmet-preferences__value",function(){$(this).toggleClass("emmet-preferences__value_full")})}),$(".cm-box").each(function(){var a={theme:"espresso",mode:$(this).data("cm-mode")||"text/html",indentWithTabs:!0,tabSize:4,lineNumbers:!0,onCursorActivity:function(){b.setLineClass(c,null,null),c=b.setLineClass(b.getCursor().line,null,"activeline")}},b=CodeMirror.fromTextArea(this,a),c=b.setLineClass(0,"activeline");$(this).data("height")&&(b.getWrapperElement().style.height=$(this).data("height")+"px")})});